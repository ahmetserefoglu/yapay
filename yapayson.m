%EĞİTİM VERİLERİ NORMALİZASYON SONUCU%
giris1=[0.745883644 0.823600439 0.822722283 0.831503842 0.744127333 0.685729967 0.680461032 0.680021954 0.719978046 0.616355653 0.577716795 0.501317234 0.565422613 0.583863886 0.550933041 0.629527991 0.655433589 0.669484083 0.518441273 0.503073546 0.491218441 0.462678375 0.441602634 0.382766191 0.520197585 0.626454446 0.322612514 0.1 0.150493963 0.322612514 0.434577387 0.46180022 0.467947311 0.712513721 0.777936334 0.690120746 0.77442371 0.772228321 0.797255763 0.809989023 0.822283205 0.792864984 0.807354555 0.79154775 0.76169045 0.779692645 0.740614709];  
%tge
giris2=[0.585525957 0.585525957 0.585525957 0.629513136 0.629513136 0.629513136 0.712663365 0.712663365 0.712663365 0.676607295 0.676607295 0.676607295 0.664882928 0.664882928 0.664882928 0.733056798 0.733056798 0.733056798 0.799138654 0.799138654 0.799138654 0.715293091 0.715293091 0.715293091 0.642845834 0.642845834 0.642845834 0.702090073 0.702090073 0.702090073 0.797182424 0.797182424 0.797182424 0.776062019 0.776062019 0.776062019 0.740280012 0.740280012 0.740280012 0.812774392 0.812774392 0.812774392 0.898975015 0.898975015 0.898975015 0.9 0.9];
%gsyh
giris3=[0.1 0.113559322 0.127118644 0.140677966 0.154237288 0.16779661 0.181355932 0.194915254 0.208474576 0.222033898 0.23559322 0.249152542 0.262711864 0.276271186 0.289830508 0.303389831 0.316949153 0.330508475 0.344067797 0.357627119 0.371186441 0.384745763 0.398305085 0.411864407 0.425423729 0.438983051 0.452542373 0.466101695 0.479661017 0.493220339 0.506779661 0.520338983 0.533898305 0.547457627 0.561016949 0.574576271 0.588135593 0.601694915 0.615254237 0.628813559 0.642372881 0.655932203 0.669491525 0.683050847 0.696610169 0.710169492 0.723728814];
%rkge
giris4=[0.844759556 0.864488286 0.861528977 0.896054254 0.835881628 0.776695438 0.726387176 0.9 0.681997534 0.689889026 0.649445129 0.691861899 0.695807645 0.639580764 0.658323058 0.624784217 0.635635018 0.616892725 0.606041924 0.522194821 0.526140567 0.396917386 0.17891492 0.127620222 0.150308261 0.225277435 0.1 0.155240444 0.289395808 0.284463625 0.327866831 0.359432799 0.328853268 0.462022195 0.609001233 0.506411837 0.737237978 0.635635018 0.756966708 0.750061652 0.720468557 0.735265105 0.706658446 0.759926017 0.775709001 0.773736128 0.778668311];
%yh
giris5=[0.473503089 0.429241715 0.448144542 0.376862011 0.341782438 0.316828309 0.258067778 0.306463209 0.236109343 0.139168695 0.121434188 0.103804531 0.1 0.126556825 0.192776634 0.289133121 0.214675154 0.185916495 0.159179929 0.103340198 0.188672533 0.55359296 0.725216252 0.651761842 0.727013668 0.821842352 0.9 0.749631155 0.671158959 0.653214754 0.61413593 0.562505149 0.571507208 0.536921925 0.563703426 0.592896461 0.543182925 0.601958435 0.63603445 0.575461524 0.645770455 0.698914061 0.648017225 0.596071897 0.577034263 0.471495975 0.488077139];
%$
giris6=[0.1 0.1 0.1 0.155838373 0.155838373 0.155838373 0.271646561 0.271646561 0.271646561 0.248920315 0.248920315 0.248920315 0.269368667 0.269368667 0.269368667 0.338245865 0.338245865 0.338245865 0.392659441 0.392659441 0.392659441 0.312998299 0.312998299 0.312998299 0.22919305 0.22919305 0.22919305 0.342333002 0.342333002 0.342333002 0.435048878 0.435048878 0.435048878 0.452274723 0.452274723 0.452274723 0.472090158 0.472090158 0.472090158 0.538618411 0.538618411 0.538618411 0.644640556 0.644640556 0.644640556 0.717387131 0.717387131];
%th

cikis=[0.13082542 0.156397878 0.201648299 0.207161686 0.231698796 0.238425382 0.226483946 0.227900403 0.222774478 0.253942897 0.298875726 0.439263823 0.165137993 0.18170356 0.263966081 0.239613174 0.247006701 0.229520119 0.209232382 0.212865627 0.218906215 0.172760187 0.156328008 0.211449169 0.130742846 0.139120907 0.305094166 0.277019087 0.327744784 0.307615841 0.152745578 0.190221361 0.378394258 0.134903293 0.160012068 0.410255026 0.127065138 0.178241814 0.262765586 0.279223171 0.304109633 0.314393242 0.310029536 0.31525709 0.316876806 0.351062343 0.365049068];
%zaman değerlerini giriş olarak almadım %80'i egitim seti olarak olarak
%kullanıldı %20 ise test verisi olarak kullanıldı
%zaman=[1.1.2010 1.2.2010 1.3.2010 1.4.2010 1.5.2010 1.6.2010 1.7.2010 1.8.2010 1.9.2010 1.10.2010 1.11.20101.12.2010 1.1.2011 1.2.2011 1.3.2011 1.4.2011 01.05.2011 1.6.2011 1.7.2011 1.8.2011 1.9.2011 1.10.2011 01.11.2011 1.12.2011 1.1.2012 1.2.2012 1.3.2012 1.4.2012 1.5.2012 1.6.2012 1.7.2012 1.8.2012 1.9.2012 1.10.2012 1.11.2012 1.12.2012 1.1.2013 1.2.2013 1.3.2013 1.4.2013 1.5.2013 1.6.2013 1.7.2013 1.8.20131.9.20131.10.2013 1.11.2013];
R=0.6;
w1=rand();      
w2=rand();
w3=rand();
w4=rand();
w5=rand();
w6=rand();
w7=rand();
w8=rand();
w9=rand();
w10=rand();
w11=rand();
w12=rand();
w13=rand();
w14=rand();
w15=rand();
w16=rand();
w17=rand();
w18=rand();
w19=rand();
w20=rand();
w21=rand();
w22=rand();
w23=rand();
w24=rand();
w25=rand();
w26=rand();
w27=rand();
w28=rand();
w29=rand();
w30=rand();
w31=rand();
w32=rand();
w33=rand();
w34=rand();
w35=rand();
w36=rand();
w37=rand();
w38=rand();
w39=rand();
w40=rand();
w41=rand();
w42=rand();
w43=rand();
w44=rand();
w45=rand();
w46=rand();
w47=rand();
w48=rand();
w49=rand();
w50=rand();
w51=rand();
w52=rand();
w53=rand();
w54=rand();
w55=rand();
w56=rand();
w57=rand();

for y=1:900
for i=1:max(size(giris1))
    
    cik1(i)=giris1(i);
    cik2(i)=giris2(i);
    cik3(i)=giris3(i);
    cik4(i)=giris4(i);
    cik5(i)=giris5(i);
    cik6(i)=giris6(i);
    
    cik7(i)=sigmoid(cik1(i)*w1+cik2(i)*w8+cik3(i)*w15+cik4(i)*w22+cik5(i)*w29+cik6(i)*w36+w43);
    cik8(i)=sigmoid(cik1(i)*w2+cik2(i)*w9+cik3(i)*w16+cik4(i)*w23+cik5(i)*w30+cik6(i)*w37+w44);
    cik9(i)=sigmoid(cik1(i)*w3+cik2(i)*w10+cik3(i)*w17+cik4(i)*w24+cik5(i)*w31+cik6(i)*w38+w45);
    cik10(i)=sigmoid(cik1(i)*w4+cik2(i)*w11+cik3(i)*w18+cik4(i)*w25+cik5(i)*w32+cik6(i)*w39+w46);
    cik11(i)=sigmoid(cik1(i)*w5+cik2(i)*w12+cik3(i)*w19+cik4(i)*w26+cik5(i)*w33+cik6(i)*w40+w47);
    cik12(i)=sigmoid(cik1(i)*w6+cik2(i)*w13+cik3(i)*w20+cik4(i)*w27+cik5(i)*w34+cik6(i)*w41+w48);
    cik13(i)=sigmoid(cik1(i)*w7+cik2(i)*w14+cik3(i)*w21+cik4(i)*w28+cik5(i)*w35+cik6(i)*w42+w49);
    cik14(i)=sigmoid(cik7(i)*w50+cik8(i)*w51+cik9(i)*w52+cik10(i)*w53+cik11(i)*w54+cik12(i)*w55+cik13(i)*w56+w57);
    
      alfa14(i)=cikis(i)-cik14(i);
      alfa13=alfa14(i)*w56;
      alfa12=alfa14(i)*w55;
      alfa11=alfa14(i)*w54;
      alfa10=alfa14(i)*w53;
      alfa9=alfa14(i)*w52;
       alfa8=alfa14(i)*w51;
       alfa7=alfa14(i)*w50;
    
        w1=w1+R*alfa7*(1-cik7(i))*cik7(i)*cik1(i);
        w2=w2+R*alfa8*(1-cik8(i))*cik8(i)*cik1(i);
        w3=w3+R*alfa9*(1-cik9(i))*cik9(i)*cik1(i);
        w4=w4+R*alfa10*(1-cik10(i))*cik10(i)*cik1(i);
        w5=w5+R*alfa11*(1-cik11(i))*cik11(i)*cik1(i);
        w6=w6+R*alfa12*(1-cik12(i))*cik12(i)*cik1(i);
        w7=w7+R*alfa13*(1-cik13(i))*cik13(i)*cik1(i);
        
        w8=w8+R*alfa7*(1-cik7(i))*cik7(i)*cik2(i);
        w9=w9+R*alfa8*(1-cik8(i))*cik8(i)*cik2(i);
        w10=w10+R*alfa9*(1-cik9(i))*cik9(i)*cik2(i);
        w11=w11+R*alfa10*(1-cik10(i))*cik10(i)*cik2(i);
        w12=w12+R*alfa11*(1-cik11(i))*cik11(i)*cik2(i);
        w13=w13+R*alfa12*(1-cik12(i))*cik12(i)*cik2(i);
        w14=w14+R*alfa13*(1-cik13(i))*cik13(i)*cik2(i);
        
        w15=w15+R*alfa7*(1-cik7(i))*cik7(i)*cik3(i);
        w16=w16+R*alfa8*(1-cik8(i))*cik8(i)*cik3(i);
        w17=w17+R*alfa9*(1-cik9(i))*cik9(i)*cik3(i);
        w18=w18+R*alfa10*(1-cik10(i))*cik10(i)*cik3(i);
        w19=w19+R*alfa11*(1-cik11(i))*cik11(i)*cik3(i);
        w20=w20+R*alfa12*(1-cik12(i))*cik12(i)*cik3(i);
        w21=w21+R*alfa13*(1-cik13(i))*cik13(i)*cik3(i);
        
        w22=w22+R*alfa7*(1-cik7(i))*cik7(i)*cik4(i);
        w23=w23+R*alfa8*(1-cik8(i))*cik8(i)*cik4(i);
        w24=w24+R*alfa9*(1-cik9(i))*cik9(i)*cik4(i);
        w25=w25+R*alfa10*(1-cik10(i))*cik10(i)*cik4(i);
        w26=w26+R*alfa11*(1-cik11(i))*cik11(i)*cik4(i);
        w27=w27+R*alfa12*(1-cik12(i))*cik12(i)*cik4(i);
        w28=w28+R*alfa13*(1-cik13(i))*cik13(i)*cik4(i);
        
        w29=w29+R*alfa7*(1-cik7(i))*cik7(i)*cik5(i);
        w30=w30+R*alfa8*(1-cik8(i))*cik8(i)*cik5(i);
        w31=w31+R*alfa9*(1-cik9(i))*cik9(i)*cik5(i);
        w32=w32+R*alfa10*(1-cik10(i))*cik10(i)*cik5(i);
        w33=w33+R*alfa11*(1-cik11(i))*cik11(i)*cik5(i);
        w34=w27+R*alfa12*(1-cik12(i))*cik12(i)*cik5(i);
        w35=w35+R*alfa13*(1-cik13(i))*cik13(i)*cik5(i);
        
        w36=w36+R*alfa7*(1-cik7(i))*cik7(i)*cik6(i);
        w37=w37+R*alfa8*(1-cik8(i))*cik8(i)*cik6(i);
        w38=w38+R*alfa9*(1-cik9(i))*cik9(i)*cik6(i);
        w39=w39+R*alfa10*(1-cik10(i))*cik10(i)*cik6(i);
        w40=w40+R*alfa11*(1-cik11(i))*cik11(i)*cik6(i);
        w41=w41+R*alfa12*(1-cik12(i))*cik12(i)*cik6(i);
        w42=w42+R*alfa13*(1-cik13(i))*cik13(i)*cik6(i);
        
        w43=w43+R*alfa7*(1-cik7(i))*cik7(i);
        w44=w44+R*alfa8*(1-cik8(i))*cik8(i);
        w45=w45+R*alfa9*(1-cik9(i))*cik9(i);
        w46=w46+R*alfa10*(1-cik10(i))*cik10(i);
        w47=w47+R*alfa11*(1-cik11(i))*cik11(i);
        w48=w48+R*alfa12*(1-cik12(i))*cik12(i);
        w49=w49+R*alfa13*(1-cik13(i))*cik13(i);
        
        w50=w50+R*alfa14(i)*(1-cik14(i))*cik14(i)*cik7(i);
        w51=w51+R*alfa14(i)*(1-cik14(i))*cik14(i)*cik8(i);
        w52=w52+R*alfa14(i)*(1-cik14(i))*cik14(i)*cik9(i);
        w53=w53+R*alfa14(i)*(1-cik14(i))*cik14(i)*cik10(i);
        w54=w54+R*alfa14(i)*(1-cik14(i))*cik14(i)*cik11(i);
        w55=w55+R*alfa14(i)*(1-cik14(i))*cik14(i)*cik12(i);
        w56=w56+R*alfa14(i)*(1-cik14(i))*cik14(i)*cik13(i);
        w57=w57+R*alfa14(i)*(1-cik14(i))*cik14(i);
        
   
         hata(i)=(sum(alfa11.^2))*0.5;
  
    hold on
plot(y,hata(i),'r-*');

if(hata<0.01)
break;
end
end
      
  
end
%figure
%plot(cikis,'y--');
%hold on
%plot(cik14,'k--');
disp(giris1)
disp(giris2)
disp(giris3)
disp(giris4)
disp(giris5)
disp(giris6)
disp(cikis)
disp(cik14)
disp(alfa14)

%TEST VERİLERİ NORMALİZASYON SONUCU%
%zaman=[1.12.2013 1.1.2014 1.2.2014 1.3.2014 1.4.2014 1.5.2014 1.6.2014 1.7.2014 1.8.2014 1.9.2014 1.10.2014 1.11.2014 1.12.2014];
%zaman giriş olarak kullanılmadı
%tge=[0,677826564 0,752030735 0,762568606 0,769154775 0,798572997 0,811745335 0,846432492 0,850823271 0,833260154 0,871459934 0,878924259 0,881997805 0,9];
%gsyh=[0,9 0,8737404750,8737404750,873740475 0,7330567980,733056798 0,733056798 0,7361951040,736195104 0,7361951040,771872842 0,771872842 0,771872842];
%rkge=[0,737288136 0,7508474580,76440678 0,777966102 0,791525424 0,805084746 0,818644068 0,83220339 0,8457627120,859322034 0,872881356 0,886440678 0,9];
%yh=[0,788532676 0,731319359 0,80135635 0,712577065 0,741183724 0,734278668 0,856596794 0,830949445 0,839827374 0,845745993 0,854623921 0,829963009 0,84377312];
%$=[0,613327092 0,674109717 0,717322599 0,704770642 0,513825126 0,689717281 0,734442988 0,75124883 0,762662423 0,787691444 0,793158585 0,807073582 0,825437184];
%th=[0,717387131 0,780966576 0,780966576 0,780966576 0,840248615 0,840248615 0,840248615 0,871064699 0,871064699 0,871064699 0,9 0,9 0,9];
%os=[0,678829358 0,349785626 0,443093975 0,1 0,568371074 0,587566297 0,592457205 0,462251088 0,436932702 0,451319592 0,508466986 0,473881284 0,9];




giris1=input('tüketici güven endeksi:');
giris2=input('gayri safi yurt içi hasıla:');
giris3=input('reel kesim güven endeksi:');
giris4=input('yatırım harcamaları:');
giris5=input('dolar:');
giris6=input('tüketim harcamaları:');


noron7=giris1*w1+giris2*w8+giris3*w15+giris4*w22+giris5*w29+giris6*w36+w43;
noron8=giris1*w2+giris2*w9+giris3*w16+giris4*w23+giris5*w30+giris6*w37+w44;
noron9=giris1*w3+giris2*w10+giris3*w17+giris4*w24+giris5*w31+giris6*w38+w45;
noron10=giris1*w4+giris2*w11+giris3*w18+giris4*w25+giris5*w32+giris6*w39+w46;
noron11=giris1*w5+giris2*w12+giris3*w19+giris4*w26+giris5*w33+giris6*w40+w47;
noron12=giris1*w6+giris2*w13+giris3*w20+giris4*w27+giris5*w34+giris6*w41+w48;
noron13=giris1*w7+giris2*w14+giris3*w21+giris4*w28+giris5*w35+giris6*w42+w49;
noron14=noron7*w50+noron8*w51+noron9*w52+noron10*w53+noron11*w54+noron12*w55+noron13*w56+w57;

fprintf('tahmin=%s\n',noron14);

